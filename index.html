<!DOCTYPE html>
<html lang="ar" dir="rtl" role="document">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>مدونة م. صالح التقنية</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>
  <div class="animated-background" aria-hidden="true">
    <canvas id="particleCanvas"></canvas>
  </div>
  
  <div id="loading-screen" class="loading-screen">
    <div class="loader-content">
      <div class="loader-spinner"></div>
      <p>جاري التحميل...</p>
    </div>
  </div>
  
  <div id="scroll-progress" class="scroll-progress"></div>
  
  <button class="back-to-top" id="backToTop" aria-label="العودة إلى الأعلى" data-tooltip="العودة إلى الأعلى">
    <i class="fas fa-arrow-up" aria-hidden="true"></i>
  </button>
  
  <nav class="navbar" role="navigation" aria-label="القائمة الرئيسية">
    <div class="logo" role="banner">م. صالح سالم باحميد</div>
    <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="فتح القائمة" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <ul class="nav-links" role="menubar">
      <li role="none"><a href="#" class="nav-link active" data-page="home" role="menuitem" aria-current="page"><i class="fas fa-home" aria-hidden="true"></i> الرئيسية</a></li>
      <li role="none"><a href="#" class="nav-link" data-page="about" role="menuitem"><i class="fas fa-user" aria-hidden="true"></i> نبذة</a></li>
      <li role="none"><a href="#" class="nav-link" data-page="projects" role="menuitem"><i class="fas fa-code" aria-hidden="true"></i> المشاريع</a></li>
      <li role="none"><a href="#" class="nav-link" data-page="contact" role="menuitem"><i class="fas fa-envelope" aria-hidden="true"></i> تواصل</a></li>
    </ul>
    <button id="toggle-dark" title="تبديل الوضع" aria-label="تبديل الوضع الليلي" style="background:none;border:none;color:#fff;font-size:1.2rem;cursor:pointer;">
      <i class="fas fa-moon" aria-hidden="true"></i>
    </button>
  </nav>

  <main role="main" aria-live="polite">
    <section id="home" class="page active" role="region" aria-labelledby="home-title">
      <h1 id="home-title">مرحباً بكم في مدونتي التقنية</h1>
      <p>أنا صالح، مهندس تقنية معلومات أشارككم خبراتي ومشاريعي في مجال التقنية والبرمجيات.</p>
    </section>

    <section id="about" class="page" role="region" aria-labelledby="about-title">
      <h1 id="about-title">نبذة عني</h1>
      <p>
        حاصل على بكالوريوس في تقنية المعلومات، أعمل في تطوير الأنظمة البرمجية وأملك خبرة واسعة في هندسة البرمجيات، تطوير المواقع والتطبيقات، وأحب مشاركة المعرفة التقنية.
      </p>
      <ul>
        <li><i class="fas fa-code"></i> لغات برمجة: Python, JavaScript, C#</li>
        <li><i class="fas fa-layer-group"></i> أطر العمل: React, Node.js, .NET</li>
        <li><i class="fas fa-brain"></i> اهتمامات: الأمن السيبراني، الذكاء الاصطناعي، البنية السحابية</li>
      </ul>

      <div class="about-site">
        <h2><i class="fas fa-info-circle"></i> عن الموقع</h2>
        <p>
          هذا الموقع عبارة عن منصة تقنية متخصصة تهدف إلى نشر المعرفة والخبرات في مجالات البرمجة وهندسة البرمجيات والتقنيات الحديثة. نسعى من خلاله إلى:
        </p>
        <ul class="site-goals">
          <li><i class="fas fa-check-circle"></i> مشاركة المشاريع التقنية والتطبيقات العملية</li>
          <li><i class="fas fa-check-circle"></i> تقديم محتوى تعليمي متميز في مجال البرمجة</li>
          <li><i class="fas fa-check-circle"></i> بناء مجتمع تقني متفاعل من المطورين والمهندسين</li>
          <li><i class="fas fa-check-circle"></i> مواكبة أحدث التطورات في عالم التكنولوجيا</li>
        </ul>
      </div>

      <div class="team-section">
        <h2><i class="fas fa-users"></i> فريق العمل</h2>
        <div class="team-grid">
          <div class="team-member">
            <div class="member-avatar">
              <i class="fas fa-user-tie"></i>
            </div>
            <h3>م. صالح سالم باحميد</h3>
            <p class="member-role">مؤسس الموقع ومهندس برمجيات</p>
            <p class="member-bio">
              مهندس تقنية معلومات متخصص في تطوير الأنظمة والتطبيقات، مع خبرة واسعة في البرمجة والأمن السيبراني.
            </p>
          </div>

          <div class="team-member">
            <div class="member-avatar">
              <i class="fas fa-laptop-code"></i>
            </div>
            <h3>فريق التطوير</h3>
            <p class="member-role">مطورو الواجهات والخلفيات</p>
            <p class="member-bio">
              فريق متخصص في تطوير وصيانة الموقع وتحسين الأداء وتجربة المستخدم باستمرار.
            </p>
          </div>

          <div class="team-member">
            <div class="member-avatar">
              <i class="fas fa-pen-fancy"></i>
            </div>
            <h3>فريق المحتوى</h3>
            <p class="member-role">كتّاب ومحررو المحتوى التقني</p>
            <p class="member-bio">
              فريق مختص في كتابة وتحرير المقالات التقنية والمحتوى التعليمي بجودة عالية.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="projects" class="page" role="region" aria-labelledby="projects-title">
      <h1 id="projects-title">مشاريعي</h1>
      <div class="projects-list" role="list">
        <div class="project-card" role="listitem">
          <h2><i class="fas fa-tasks"></i> نظام إدارة المهام الذكي</h2>
          <p>تطبيق ويب لإدارة وتنظيم المهام باستخدام تقنيات الذكاء الاصطناعي لتصنيف الأولويات.</p>
        </div>
        <div class="project-card" role="listitem">
          <h2><i class="fas fa-blog"></i> مدونة تقنية تفاعلية</h2>
          <p>منصة تدوين مبنية على React وNode.js تدعم التعليقات التفاعلية والإشعارات الفورية.</p>
        </div>
        <div class="project-card" role="listitem">
          <h2><i class="fas fa-network-wired"></i> أداة مراقبة الشبكة</h2>
          <p>برنامج لرصد أداء الشبكة وتحليل حركة البيانات مع لوحة تحكم بصرية متقدمة.</p>
        </div>
      </div>
    </section>

    <section id="contact" class="page" role="region" aria-labelledby="contact-title">
      <h1 id="contact-title">تواصل معي</h1>
      <form class="contact-form" onsubmit="sendMessage(event)" novalidate aria-label="نموذج التواصل">
        <label for="contact-name"><i class="fas fa-user" aria-hidden="true"></i> الاسم</label>
        <input type="text" id="contact-name" name="name" required aria-required="true" />
        <span class="error-message" id="name-error"></span>
        <label for="contact-email"><i class="fas fa-envelope" aria-hidden="true"></i> البريد الإلكتروني</label>
        <input type="email" id="contact-email" name="email" required aria-required="true" />
        <span class="error-message" id="email-error"></span>
        <label for="contact-message"><i class="fas fa-comment-dots" aria-hidden="true"></i> رسالتك</label>
        <textarea id="contact-message" name="message" required aria-required="true" rows="5"></textarea>
        <span class="error-message" id="message-error"></span>
        <button type="submit" id="submit-btn"><i class="fas fa-paper-plane" aria-hidden="true"></i> <span>إرسال</span></button>
      </form>
      <div id="contact-success" class="success-msg" role="status" aria-live="polite"></div>
    </section>
  </main>

  <footer role="contentinfo">
    <p>© 2025 م. صالح باحميد - جميع الحقوق محفوظة</p>
  </footer>

  <script>
    // Loading screen
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('loading-screen').classList.add('hidden');
      }, 800);
    });

    // Scroll progress indicator
    window.addEventListener('scroll', () => {
      const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      document.getElementById('scroll-progress').style.width = scrolled + '%';
      
      // Back to top button
      const backToTop = document.getElementById('backToTop');
      if (winScroll > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    });

    // Back to top functionality
    document.getElementById('backToTop').addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Mobile menu toggle
    const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
    const navLinks = document.querySelector('.nav-links');
    
    mobileMenuToggle.addEventListener('click', () => {
      navLinks.classList.toggle('active');
      mobileMenuToggle.classList.toggle('active');
      const isExpanded = mobileMenuToggle.classList.contains('active');
      mobileMenuToggle.setAttribute('aria-expanded', isExpanded);
      mobileMenuToggle.setAttribute('aria-label', isExpanded ? 'إغلاق القائمة' : 'فتح القائمة');
    });

    // تبديل الصفحات بدون إعادة تحميل
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelectorAll('.nav-link').forEach(l => {
          l.classList.remove('active');
          l.removeAttribute('aria-current');
        });
        this.classList.add('active');
        this.setAttribute('aria-current', 'page');
        let page = this.getAttribute('data-page');
        document.querySelectorAll('.page').forEach(sec => sec.classList.remove('active'));
        document.getElementById(page).classList.add('active');
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Close mobile menu
        navLinks.classList.remove('active');
        mobileMenuToggle.classList.remove('active');
        mobileMenuToggle.setAttribute('aria-expanded', 'false');
      });
    });

    // Form validation
    const contactForm = document.querySelector('.contact-form');
    const nameInput = document.getElementById('contact-name');
    const emailInput = document.getElementById('contact-email');
    const messageInput = document.getElementById('contact-message');
    const submitBtn = document.getElementById('submit-btn');

    function validateName(value) {
      return value.trim().length >= 2;
    }

    function validateEmail(value) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(value);
    }

    function validateMessage(value) {
      return value.trim().length >= 10;
    }

    function showError(input, errorId, message) {
      const errorElement = document.getElementById(errorId);
      errorElement.textContent = message;
      errorElement.classList.add('show');
      input.classList.add('invalid');
      input.classList.remove('valid');
      input.setAttribute('aria-invalid', 'true');
    }

    function clearError(input, errorId) {
      const errorElement = document.getElementById(errorId);
      errorElement.classList.remove('show');
      input.classList.remove('invalid');
      input.classList.add('valid');
      input.setAttribute('aria-invalid', 'false');
    }

    nameInput.addEventListener('blur', () => {
      if (!validateName(nameInput.value)) {
        showError(nameInput, 'name-error', 'الرجاء إدخال اسم صحيح (حرفين على الأقل)');
      } else {
        clearError(nameInput, 'name-error');
      }
    });

    emailInput.addEventListener('blur', () => {
      if (!validateEmail(emailInput.value)) {
        showError(emailInput, 'email-error', 'الرجاء إدخال بريد إلكتروني صحيح');
      } else {
        clearError(emailInput, 'email-error');
      }
    });

    messageInput.addEventListener('blur', () => {
      if (!validateMessage(messageInput.value)) {
        showError(messageInput, 'message-error', 'الرجاء إدخال رسالة (10 أحرف على الأقل)');
      } else {
        clearError(messageInput, 'message-error');
      }
    });

    // Real-time validation
    nameInput.addEventListener('input', () => {
      if (nameInput.value.length > 0) {
        if (validateName(nameInput.value)) {
          clearError(nameInput, 'name-error');
        }
      }
    });

    emailInput.addEventListener('input', () => {
      if (emailInput.value.length > 0) {
        if (validateEmail(emailInput.value)) {
          clearError(emailInput, 'email-error');
        }
      }
    });

    messageInput.addEventListener('input', () => {
      if (messageInput.value.length > 0) {
        if (validateMessage(messageInput.value)) {
          clearError(messageInput, 'message-error');
        }
      }
    });

    // رسالة نجاح عند إرسال نموذج التواصل
    function sendMessage(e) {
      e.preventDefault();
      
      // Final validation
      let isValid = true;
      
      if (!validateName(nameInput.value)) {
        showError(nameInput, 'name-error', 'الرجاء إدخال اسم صحيح');
        isValid = false;
      }
      
      if (!validateEmail(emailInput.value)) {
        showError(emailInput, 'email-error', 'الرجاء إدخال بريد إلكتروني صحيح');
        isValid = false;
      }
      
      if (!validateMessage(messageInput.value)) {
        showError(messageInput, 'message-error', 'الرجاء إدخال رسالة');
        isValid = false;
      }
      
      if (!isValid) return;

      // Show loading state
      submitBtn.classList.add('loading');
      submitBtn.disabled = true;

      // Simulate sending
      setTimeout(() => {
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;
        contactForm.reset();
        
        // Clear validation states
        nameInput.classList.remove('valid', 'invalid');
        emailInput.classList.remove('valid', 'invalid');
        messageInput.classList.remove('valid', 'invalid');
        
        let msg = document.getElementById('contact-success');
        msg.style.display = 'block';
        msg.textContent = "✅ تم إرسال رسالتك بنجاح! سأقوم بالرد عليك قريباً.";
        
        setTimeout(() => {
          msg.style.display = 'none';
        }, 5000);
      }, 1500);
    }

    // زر الوضع الليلي مع حفظ التفضيل
    const toggleDark = document.getElementById('toggle-dark');
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      toggleDark.innerHTML = '<i class="fas fa-sun"></i>';
    }

    toggleDark.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      toggleDark.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // خلفية متحركة بالجسيمات
    const canvas = document.getElementById('particleCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let particles = [];
    let mouseX = 0;
    let mouseY = 0;

    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 3 + 1;
        this.speedX = Math.random() * 2 - 1;
        this.speedY = Math.random() * 2 - 1;
        this.color = document.body.classList.contains('dark-mode') ? 
          `rgba(144, 202, 249, ${Math.random() * 0.5})` : 
          `rgba(26, 35, 126, ${Math.random() * 0.3})`;
      }

      update() {
        this.x += this.speedX;
        this.y += this.speedY;

        const dx = mouseX - this.x;
        const dy = mouseY - this.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < 120) {
          this.x -= dx / 50;
          this.y -= dy / 50;
        }

        if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
        if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
      }

      draw() {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    function init() {
      particles = [];
      const particleCount = Math.min(100, Math.floor(canvas.width / 10));
      for (let i = 0; i < particleCount; i++) {
        particles.push(new Particle());
      }
    }

    function connectParticles() {
      for (let i = 0; i < particles.length; i++) {
        for (let j = i + 1; j < particles.length; j++) {
          const dx = particles[i].x - particles[j].x;
          const dy = particles[i].y - particles[j].y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < 120) {
            ctx.strokeStyle = document.body.classList.contains('dark-mode') ? 
              `rgba(144, 202, 249, ${0.2 * (1 - distance / 120)})` : 
              `rgba(26, 35, 126, ${0.15 * (1 - distance / 120)})`;
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(particles[i].x, particles[i].y);
            ctx.lineTo(particles[j].x, particles[j].y);
            ctx.stroke();
          }
        }
      }
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(particle => {
        particle.update();
        particle.draw();
      });
      connectParticles();
      requestAnimationFrame(animate);
    }

    init();
    animate();

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      init();
    });

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    const originalToggleClick = toggleDark.onclick;
    toggleDark.addEventListener('click', () => {
      setTimeout(() => {
        particles.forEach(particle => {
          particle.color = document.body.classList.contains('dark-mode') ? 
            `rgba(144, 202, 249, ${Math.random() * 0.5})` : 
            `rgba(26, 35, 126, ${Math.random() * 0.3})`;
        });
      }, 100);
    });

    document.querySelectorAll('.page').forEach(page => {
      page.style.transform = 'translateY(0)';
      page.style.transition = 'all 0.6s ease-out';
    });

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
          entry.target.classList.add('animated');
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.project-card, .team-member').forEach((el, index) => {
      el.style.opacity = '0';
      el.style.transform = 'translateY(30px)';
      el.style.transition = `all 0.6s ease-out ${index * 0.1}s`;
      observer.observe(el);
    });

    // Keyboard navigation enhancement
    document.querySelectorAll('a, button, input, textarea').forEach(el => {
      el.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && el.tagName !== 'TEXTAREA') {
          el.click();
        }
      });
    });

    // Escape key to close mobile menu
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && navLinks.classList.contains('active')) {
        navLinks.classList.remove('active');
        mobileMenuToggle.classList.remove('active');
        mobileMenuToggle.setAttribute('aria-expanded', 'false');
      }
    });

    // Performance optimization: reduce animations on slower devices
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
      document.documentElement.style.setProperty('--animation-duration', '0.01ms');
    }

    // Add smooth reveal for page sections
    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, { threshold: 0.05, rootMargin: '0px 0px -100px 0px' });

    document.querySelectorAll('.about-site, .team-section').forEach(section => {
      section.style.opacity = '0';
      section.style.transform = 'translateY(20px)';
      section.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
      sectionObserver.observe(section);
    });
  </script>
</body>
</html>
